/**
* Bootstrap.js by @fat & @mdo
* plugins: bootstrap-transition.js, bootstrap-modal.js, bootstrap-dropdown.js, bootstrap-scrollspy.js, bootstrap-tab.js, bootstrap-tooltip.js, bootstrap-popover.js, bootstrap-affix.js, bootstrap-alert.js, bootstrap-button.js, bootstrap-collapse.js, bootstrap-carousel.js, bootstrap-typeahead.js
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/function TkMap(e){var t=typeof e.lat!="undefined"?e.lat:null,n=typeof e.lng!="undefined"?e.lng:null,r=typeof e.domid!="undefined"?e.domid:null,i=typeof e.zoom!="undefined"?e.zoom:15,s=typeof e.init!="undefined"?e.init:!1,o=typeof e.responsive!="undefined"?e.responsive:!1,u=typeof e.styles!="undefined"?e.styles:null,a={center:new google.maps.LatLng(t,n),draggable:!0,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,streetViewControl:!1,styles:[],zoom:i,zoomControl:!0},f=!1,l=null,c=null;this.Map=null;var h=function(e){f=!0;l=e.touches[0].pageY},p=function(){f=!1},d=function(e){if(!f)return;c=e.touches[0].pageY;window.scrollBy(0,l-c)},v=function(){var e=u.split(" ");for(var t in e)if(e[t]==="satellite")a.mapTypeId=google.maps.MapTypeId.SATELLITE;else if(e[t]==="hybrid")a.mapTypeId=google.maps.MapTypeId.HYBRID;else if(e[t]==="road")a.mapTypeId=google.maps.MapTypeId.ROADMAP;else if(e[t]==="terrain")a.mapTypeId=google.maps.MapTypeId.TERRAIN;else if(e[t]==="minlabels")a.styles.push({featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]});else if(e[t]==="grey"){a.backgroundColor="#C5C5C5";a.styles.push({stylers:[{saturation:-87}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{lightness:85}]},{featureType:"water",stylers:[{lightness:-20}]})}},m=function(){var e=$("#"+r).width();e<481?a.zoom--:e>959&&a.zoom++};this.initMap=function(){if(this.Map===null){u!==null&&v();o&&m();this.Map=new google.maps.Map(document.getElementById(r),a)}};this.setMapOptions=function(e){this.Map!==null&&$.extend(a,e)};this.setTouchScroll=function(e){var t=document.getElementById(r);if(e){t.addEventListener("touchstart",h,!0);t.addEventListener("touchend",p,!0);t.addEventListener("touchmove",d,!0);this.Map.setOptions({zoomControl:!1})}else{t.removeEventListener("touchstart",h,!0);t.removeEventListener("touchend",p,!0);t.removeEventListener("touchmove",d,!0);this.Map.setOptions({zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}})}};this.setPanZoom=function(e){var t;e?t=!1:t=!0;this.Map.setOptions({disableDoubleClickZoom:t,draggable:e,keyboardShortcuts:e,scrollwheel:e,zoomControl:e})};s===!0&&this.initMap()}function InfoBox(e){e=e||{};google.maps.OverlayView.apply(this,arguments);this.content_=e.content||"";this.disableAutoPan_=e.disableAutoPan||!1;this.maxWidth_=e.maxWidth||0;this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0);this.position_=e.position||new google.maps.LatLng(0,0);this.zIndex_=e.zIndex||null;this.boxClass_=e.boxClass||"infoBox";this.boxStyle_=e.boxStyle||{};this.closeBoxMargin_=e.closeBoxMargin||"2px";this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif";e.closeBoxURL===""&&(this.closeBoxURL_="");this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1);this.isHidden_=e.isHidden||!1;this.alignBottom_=e.alignBottom||!1;this.pane_=e.pane||"floatPane";this.enableEventPropagation_=e.enableEventPropagation||!1;this.div_=null;this.closeListener_=null;this.eventListener1_=null;this.eventListener2_=null;this.eventListener3_=null;this.moveListener_=null;this.contextListener_=null;this.fixedWidthSet_=null}!function(e){e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){function t(){e(r).each(function(){n(e(this)).removeClass("open")})}function n(t){var n=t.attr("data-target"),r;n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=n&&e(n);if(!r||!r.length)r=t.parent();return r}var r="[data-toggle=dropdown]",i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(r){var i=e(this),s,o;if(i.is(".disabled, :disabled"))return;return s=n(i),o=s.hasClass("open"),t(),o||s.toggleClass("open"),i.focus(),!1},keydown:function(t){var i,s,o,u,f,l;if(!/(38|40|27)/.test(t.keyCode))return;i=e(this),t.preventDefault(),t.stopPropagation();if(i.is(".disabled, :disabled"))return;u=n(i),f=u.hasClass("open");if(!f||f&&t.keyCode==27)return t.which==27&&u.find(r).focus(),i.click();s=e("[role=menu] li:not(.divider):visible a",u);if(!s.length)return;l=s.index(s.filter(":focus")),t.keyCode==38&&l>0&&l--,t.keyCode==40&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),typeof t=="string"&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on(".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery),!function(e){function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function i(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var s=n.find("> .active"),o=r&&e.support.transition&&s.hasClass("fade");o?s.one(e.support.transition.end,i):i(),s.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s,o,u,f;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,o=this.options.trigger.split(" ");for(f=o.length;f--;)u=o[f],u=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):u!="manual"&&(i=u=="hover"?"mouseenter":"focus",s=u=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(u);if(u.isDefaultPrevented())return;t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),r=t[0].offsetWidth,i=t[0].offsetHeight;switch(s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,s,o,u,a;n.offset(e).addClass(t).addClass("in"),s=n[0].offsetWidth,o=n[0].offsetHeight,t=="top"&&o!=i&&(e.top=e.top+i-o,a=!0),t=="bottom"||t=="top"?(u=0,e.left<0&&(u=e.left*-2,e.left=0,n.offset(e),s=n[0].offsetWidth,o=n[0].offsetHeight),this.replaceArrow(u-r+s,s,"left")):this.replaceArrow(o-i,o,"top"),a&&n.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){r.off(e.support.transition.end).detach()},500);r.one(e.support.transition.end,function(){clearTimeout(t),r.detach()})}var n=this,r=this.tip(),i=e.Event("hide");this.$element.trigger(i);if(i.isDefaultPrevented())return;return r.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():r.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=(typeof n.content=="function"?n.content.call(t[0]):n.content)||t.attr("data-content"),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",f;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),f=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===f)return;this.affixed=f,this.unpin=f=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(f?"-"+f:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),!function(e){var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){s.trigger("closed").remove()}var r=e(this),i=r.attr("data-target"),s;i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),s=e(i),t&&t.preventDefault(),s.length||(s=r.hasClass("alert")?r:r.parent()),s.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.on(e.support.transition.end,n):n()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning||this.$element.hasClass("in"))return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning||!this.$element.hasClass("in"))return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=e.extend({},e.fn.collapse.defaults,r.data(),typeof n=="object"&&n);i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),r=this;if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){r.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",f=this,l;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),l=e.Event("slide",{relatedTarget:i[0],direction:o});if(i.hasClass("active"))return;this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(f.$indicators.children()[f.getActiveIndex()]);t&&t.addClass("active")}));if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(l);if(l.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger("slid")},0)})}else{this.$element.trigger(l);if(l.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o;i.carousel(s),(o=n.attr("data-slide-to"))&&i.data("carousel").pause().to(o).cycle(),t.preventDefault()})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;n.typeahead(n.data())})}(window.jQuery);(function(e,t,n,r){"use strict";var i=function(t,n){this.widget="";this.$element=e(t);this.defaultTime=n.defaultTime;this.disableFocus=n.disableFocus;this.isOpen=n.isOpen;this.minuteStep=n.minuteStep;this.modalBackdrop=n.modalBackdrop;this.secondStep=n.secondStep;this.showInputs=n.showInputs;this.showMeridian=n.showMeridian;this.showSeconds=n.showSeconds;this.template=n.template;this._init()};i.prototype={constructor:i,_init:function(){var t=this;if(this.$element.parent().hasClass("input-append")){this.$element.parent(".input-append").find(".add-on").on({"click.timepicker":e.proxy(this.showWidget,this)});this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this)})}else this.template?this.$element.on({"focus.timepicker":e.proxy(this
.showWidget,this),"click.timepicker":e.proxy(this.showWidget,this),"blur.timepicker":e.proxy(this.blurElement,this)}):this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this)});this.template!==!1?this.$widget=e(this.getTemplate()).appendTo(this.$element.parents(".bootstrap-timepicker")).on("click",e.proxy(this.widgetClick,this)):this.$widget=!1;this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){e(this).on({"click.timepicker":function(){e(this).select()},"keydown.timepicker":e.proxy(t.widgetKeydown,t)})});this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=r;this.updateFromElementVal()},decrementHour:function(){if(this.showMeridian)if(this.hour===1)this.hour=12;else{if(this.hour===12){this.hour--;return this.toggleMeridian()}if(this.hour===0){this.hour=11;return this.toggleMeridian()}this.hour--}else this.hour===0?this.hour=23:this.hour--;this.update()},decrementMinute:function(e){var t;e?t=this.minute-e:t=this.minute-this.minuteStep;if(t<0){this.decrementHour();this.minute=t+60}else this.minute=t;this.update()},decrementSecond:function(){var e=this.second-this.secondStep;if(e<0){this.decrementMinute(!0);this.second=e+60}else this.second=e;this.update()},elementKeydown:function(e){switch(e.keyCode){case 9:this.updateFromElementVal();switch(this.highlightedUnit){case"hour":e.preventDefault();this.highlightNextUnit();break;case"minute":if(this.showMeridian||this.showSeconds){e.preventDefault();this.highlightNextUnit()}break;case"second":if(this.showMeridian){e.preventDefault();this.highlightNextUnit()}}break;case 27:this.updateFromElementVal();break;case 37:e.preventDefault();this.highlightPrevUnit();this.updateFromElementVal();break;case 38:e.preventDefault();switch(this.highlightedUnit){case"hour":this.incrementHour();this.highlightHour();break;case"minute":this.incrementMinute();this.highlightMinute();break;case"second":this.incrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian()}break;case 39:e.preventDefault();this.updateFromElementVal();this.highlightNextUnit();break;case 40:e.preventDefault();switch(this.highlightedUnit){case"hour":this.decrementHour();this.highlightHour();break;case"minute":this.decrementMinute();this.highlightMinute();break;case"second":this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian()}}},formatTime:function(e,t,n,r){e=e<10?"0"+e:e;t=t<10?"0"+t:t;n=n<10?"0"+n:n;return e+":"+t+(this.showSeconds?":"+n:"")+(this.showMeridian?" "+r:"")},getCursorPosition:function(){var e=this.$element.get(0);if("selectionStart"in e)return e.selectionStart;if(n.selection){e.focus();var t=n.selection.createRange(),r=n.selection.createRange().text.length;t.moveStart("character",-e.value.length);return t.text.length-r}},getTemplate:function(){var e,t,n,r,i,s;if(this.showInputs){t='<input type="text" name="hour" class="bootstrap-timepicker-hour" maxlength="2"/>';n='<input type="text" name="minute" class="bootstrap-timepicker-minute" maxlength="2"/>';r='<input type="text" name="second" class="bootstrap-timepicker-second" maxlength="2"/>';i='<input type="text" name="meridian" class="bootstrap-timepicker-meridian" maxlength="2"/>'}else{t='<span class="bootstrap-timepicker-hour"></span>';n='<span class="bootstrap-timepicker-minute"></span>';r='<span class="bootstrap-timepicker-second"></span>';i='<span class="bootstrap-timepicker-meridian"></span>'}s='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr>"+"<tr>"+"<td>"+t+"</td> "+'<td class="separator">:</td>'+"<td>"+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+r+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+i+"</td>":"")+"</tr>"+"<tr>"+'<td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr>"+"</table>";switch(this.template){case"modal":e='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'">'+'<div class="modal-header">'+'<a href="#" class="close" data-dismiss="modal">×</a>'+"<h3>Pick a Time</h3>"+"</div>"+'<div class="modal-content">'+s+"</div>"+'<div class="modal-footer">'+'<a href="#" class="btn btn-primary" data-dismiss="modal">OK</a>'+"</div>"+"</div>";break;case"dropdown":e='<div class="bootstrap-timepicker-widget dropdown-menu">'+s+"</div>"}return e},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){if(this.isOpen===!1)return;this.updateFromWidgetInputs();this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});this.template==="modal"?this.$widget.modal("hide"):this.$widget.removeClass("open");e(n).off("mousedown.timepicker");this.isOpen=!1},highlightUnit:function(){this.position=this.getCursorPosition();this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var e=this.$element;this.highlightedUnit="hour";setTimeout(function(){e.get(0).setSelectionRange(0,2)},0)},highlightMinute:function(){var e=this.$element;this.highlightedUnit="minute";setTimeout(function(){e.get(0).setSelectionRange(3,5)},0)},highlightSecond:function(){var e=this.$element;this.highlightedUnit="second";setTimeout(function(){e.get(0).setSelectionRange(6,8)},0)},highlightMeridian:function(){var e=this.$element;this.highlightedUnit="meridian";this.showSeconds?setTimeout(function(){e.get(0).setSelectionRange(9,11)},0):setTimeout(function(){e.get(0).setSelectionRange(6,8)},0)},incrementHour:function(){if(this.showMeridian){if(this.hour===11){this.hour++;return this.toggleMeridian()}if(this.hour===12)return this.hour=1}if(this.hour===23)return this.hour=0;this.hour++;this.update()},incrementMinute:function(e){var t;e?t=this.minute+e:t=this.minute+this.minuteStep-this.minute%this.minuteStep;if(t>59){this.incrementHour();this.minute=t-60}else this.minute=t;this.update()},incrementSecond:function(){var e=this.second+this.secondStep-this.second%this.secondStep;if(e>59){this.incrementMinute(!0);this.second=e-60}else this.second=e;this.update()},remove:function(){e("document").off(".timepicker");this.$widget&&this.$widget.remove();delete this.$element.data().timepicker},setDefaultTime:function(e){if(!this.$element.val())if(e==="current"){var t=new Date,n=t.getHours(),r=Math.floor(t.getMinutes()/this.minuteStep)*this.minuteStep,i=Math.floor(t.getSeconds()/this.secondStep)*this.secondStep,s="AM";if(this.showMeridian)if(n===0)n=12;else if(n>=12){n>12&&(n-=12);s="PM"}else s="AM";this.hour=n;this.minute=r;this.second=i;this.meridian=s;this.update()}else if(e===!1){this.hour=0;this.minute=0;this.second=0;this.meridian="AM"}else this.setTime(e);else this.updateFromElementVal()},setTime:function(e){var t,n;if(this.showMeridian){t=e.split(" ");n=t[0].split(":");this.meridian=t[1]}else n=e.split(":");this.hour=parseInt(n[0],10);this.minute=parseInt(n[1],10);this.second=parseInt(n[2],10);isNaN(this.hour)&&(this.hour=0);isNaN(this.minute)&&(this.minute=0);if(this.showMeridian){this.hour>12?this.hour=12:this.hour<1&&(this.hour=12);if(this.meridian==="am"||this.meridian==="a")this.meridian="AM";else if(this.meridian==="pm"||this.meridian==="p")this.meridian="PM";this.meridian!=="AM"&&this.meridian!=="PM"&&(this.meridian="AM")}else this.hour>=24?this.hour=23:this.hour<0&&(this.hour=0);this.minute<0?this.minute=0:this.minute>=60&&(this.minute=59);this.showSeconds&&(isNaN(this.second)?this.second=0:this.second<0?this.second=0:this.second>=60&&(this.second=59));this.update()},showWidget:function(){if(this.isOpen)return;var t=this;e(n).on("mousedown.timepicker",function(n){e(n.target).closest(".bootstrap-timepicker-widget").length===0&&t.hideWidget()});this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});this.disableFocus&&this.$element.blur();this.updateFromElementVal();this.template==="modal"?this.$widget.modal("show").on("hidden",e.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open");this.isOpen=!0},toggleMeridian:function(){this.meridian=this.meridian==="AM"?"PM":"AM";this.update()},update:function(){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});this.updateElement();this.updateWidget()},updateElement:function(){this.$element.val(this.getTime())},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget===!1)return;var e=this.hour<10?"0"+this.hour:this.hour,t=this.minute<10?"0"+this.minute:this.minute,n=this.second<10?"0"+this.second:this.second;if(this.showInputs){this.$widget.find("input.bootstrap-timepicker-hour").val(e);this.$widget.find("input.bootstrap-timepicker-minute").val(t);this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(n);this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)}else{this.$widget.find("span.bootstrap-timepicker-hour").text(e);this.$widget.find("span.bootstrap-timepicker-minute").text(t);this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(n);this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian)}},updateFromWidgetInputs:function(){if(this.$widget===!1)return;if(this.showInputs){var t=e("input.bootstrap-timepicker-hour",this.$widget).val()+":"+e("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+e("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+e("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setTime(t)}else{var t=e("span.bootstrap-timepicker-hour",this.$widget).text()+":"+e("span.bootstrap-timepicker-minute",this.$widget).text()+(this.showSeconds?":"+e("span.bootstrap-timepicker-second",this.$widget).text():"")+(this.showMeridian?" "+e("span.bootstrap-timepicker-meridian",this.$widget).text():"");this.setTime(t)}},widgetClick:function(t){t.stopPropagation();t.preventDefault();var n=e(t.target).closest("a").data("action");n&&this[n]()},widgetKeydown:function(t){var n=e(t.target).closest("input"),r=n.attr("name");switch(t.keyCode){case 9:if(this.showMeridian){if(r==="meridian")return this.hideWidget()}else if(this.showSeconds){if(r==="second")return this.hideWidget()}else if(r==="minute")return this.hideWidget();this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:t.preventDefault();switch(r){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}break;case 40:t.preventDefault();switch(r){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}}}};e.fn.timepicker=function(t){var n=Array.apply(null,arguments);n.shift();return this.each(function(){var r=e(this),s=r.data("timepicker"),o=typeof t=="object"&&t;s||r.data("timepicker",s=new i(this,e.extend({},e.fn.timepicker.defaults,o,e(this).data())));typeof t=="string"&&s[t].apply(s,n)})};e.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown"};e.fn.timepicker.Constructor=i})(jQuery,window,document);(function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON=typeof JSON=="object"&&JSON.stringify?JSON.stringify:function(e){if(e===null)return"null";var t,n,r,i,s=$.type(e);if(s==="undefined")return undefined;if(s==="number"||s==="boolean")return String(e);if(s==="string")return $.quoteString(e);if(typeof e.toJSON=="function")return $.toJSON(e.toJSON());if(s==="date"){var o=e.getUTCMonth()+1,u=e.getUTCDate(),a=e.getUTCFullYear(),f=e.getUTCHours(),l=e.getUTCMinutes(),c=e.getUTCSeconds(),h=e.getUTCMilliseconds();o<10&&(o="0"+o);u<10&&(u="0"+u);f<10&&(f="0"+f);l<10&&(l="0"+l);c<10&&(c="0"+c);h<100&&(h="0"+h);h<10&&(h="0"+h);return'"'+a+"-"+o+"-"+u+"T"+f+":"+l+":"+c+"."+h+'Z"'}t=[];if($.isArray(e)){for(n=0;n<e.length;n++)t.push($.toJSON(e[n])||"null");return"["+t.join(",")+"]"}if(typeof e=="object"){for(n in e)if(hasOwn.call(e,n)){s=typeof n;if(s==="number")r='"'+n+'"';else{if(s!=="string")continue;r=$.quoteString(n)}s=typeof e[n];if(s!=="function"&&s!=="undefined"){i=$.toJSON(e[n]);t.push(r+":"+i)}}return"{"+t.join(",")+"}"}};$.evalJSON=typeof JSON=="object"&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")};$.secureEvalJSON=typeof JSON=="object"&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")};$.quoteString=function(e){return e.match(escape)?'"'+e.replace(escape,function(e){var t=meta[e];if(typeof t=="string")return t;t=e.charCodeAt();return"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16)})+'"':'"'+e+'"'}})(jQuery);(function(){function m(){var e=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval");e=!0;window.localStorage.removeItem("_tmptest")}catch(t){}if(e)try{if(window.localStorage){i=window.localStorage;u="localStorage";l=i.jStorage_update}}catch(n){}else if("globalStorage"in window)try{if(window.globalStorage){i=window.globalStorage[window.location.hostname];u="globalStorage";l=i.jStorage_update}}catch(r){}else{s=document.createElement("link");if(!s.addBehavior){s=null;return}s.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(s);try{s.load("jStorage")}catch(o){s.setAttribute("jStorage","{}");s.save("jStorage");s.load("jStorage")}var a="{}";try{a=s.getAttribute("jStorage")}catch(f){}try{l=s.getAttribute("jStorage_update")}catch(c){}i.jStorage=a;u="userDataBehavior"}T();k();g("local");g("session");b();L();"addEventListener"in window&&window.addEventListener("pageshow",function(e){e.persisted&&w()},!1)}function g(e,i){function h(){if(e!="session")return;try{l=n.parse(window.name||"{}")}catch(t){l={}}}function p(){if(e!="session")return;window.name=n.stringify(l)}var s=!1,o=0,a,f,l={},c=Math.random();if(!i&&typeof window[e+"Storage"]!="undefined")return;if(e=="local"&&window.globalStorage){localStorage=window.globalStorage[window.location.hostname];return}if(u!="userDataBehavior")return;i&&window[e+"Storage"]&&window[e+"Storage"].parentNode&&window[e+"Storage"].parentNode.removeChild(window[e+"Storage"]);f=document.createElement("button");document.getElementsByTagName("head")[0].appendChild(f);e=="local"?l=r:e=="session"&&h();for(a in l)if(l.hasOwnProperty(a)&&a!="__jstorage_meta"&&a!="length"&&typeof l[a]!="undefined"){a in f||o++;f[a]=l[a]}f.length=o;f.key=function(e){var t=0,n;h();for(n in l)if(l.hasOwnProperty(n)&&n!="__jstorage_meta"&&n!="length"&&typeof l[n]!="undefined"){if(t==e)return n;t++}};f.getItem=function(n){h();return e=="session"?l[n]:t.jStorage.get(n)};f.setItem=function(e,t){if(typeof t=="undefined")return;f[e]=(t||"").toString()};f.removeItem=function(n){if(e=="local")return t.jStorage.deleteKey(n);f[n]=undefined;s=!0;n in f&&f.removeAttribute(n);s=!1};f.clear=function(){if(e=="session"){window.name="";g("session",!0);return}t.jStorage.flush()};e=="local"&&(v=function(e,t){if(e=="length")return;s=!0;if(typeof t=="undefined"){if(e in f){o--;f.removeAttribute(e)}}else{e in f||o++;f[e]=(t||"").toString()}f.length=o;s=!1});f.attachEvent("onpropertychange",function(n){if(n.propertyName=="length")return;if(s||n.propertyName=="length")return;if(e=="local")!(n.propertyName in l)&&typeof f[n.propertyName]!="undefined"&&o++;else if(e=="session"){h();if(typeof f[n.propertyName]=="undefined"||n.propertyName in l)if(typeof f[n.propertyName]=="undefined"&&n.propertyName in l){delete l[n.propertyName];o--}else l[n.propertyName]=f[n.propertyName];else{l[n.propertyName]=f[n.propertyName];o++}p();f.length=o;return}t.jStorage.set(n.propertyName,f[n.propertyName]);f.length=o});window[e+"Storage"]=f}function y(){var e="{}";if(u=="userDataBehavior"){s.load("jStorage");try{e=s.getAttribute("jStorage")}catch(t){}try{l=s.getAttribute("jStorage_update")}catch(n){}i.jStorage=e}T();k();L()}function b(){u=="localStorage"||u=="globalStorage"?"addEventListener"in window?window.addEventListener("storage",w,!1):document.attachEvent("onstorage",w):u=="userDataBehavior"&&setInterval(w,1e3)}function w(){var e;clearTimeout(f);f=setTimeout(function(){if(u=="localStorage"||u=="globalStorage")e=i.jStorage_update;else if(u=="userDataBehavior"){s.load("jStorage");try{e=s.getAttribute("jStorage_update")}catch(t){}}if(e&&e!=l){l=e;E()}},25)}function E(){var e=n.parse(n.stringify(r.__jstorage_meta.CRC32)),t;y();t=n.parse(n.stringify(r.__jstorage_meta.CRC32));var i,s=[],o=[];for(i in e)if(e.hasOwnProperty(i)){if(!t[i]){o.push(i);continue}e[i]!=t[i]&&String(e[i]).substr(0,2)=="2."&&s.push(i)}for(i in t)t.hasOwnProperty(i)&&(e[i]||s.push(i));S(s,"updated");S(o,"deleted")}function S(e,t){e=[].concat(e||[]);if(t=="flushed"){e=[];for(var n in a)a.hasOwnProperty(n)&&e.push(n);t="deleted"}for(var r=0,i=e.length;r<i;r++)if(a[e[r]])for(var s=0,o=a[e[r]].length;s<o;s++)a[e[r]][s](e[r],t)}function x(){var e=(+(new Date)).toString();if(u=="localStorage"||u=="globalStorage")i.jStorage_update=e;else if(u=="userDataBehavior"){s.setAttribute("jStorage_update",e);s.save("jStorage")}w()}function T(){if(i.jStorage)try{r=n.parse(String(i.jStorage))}catch(e){i.jStorage="{}"}else i.jStorage="{}";o=i.jStorage?String(i.jStorage).length:0;r.__jstorage_meta||(r.__jstorage_meta={});r.__jstorage_meta.CRC32||(r.__jstorage_meta.CRC32={})}function N(){O();try{i.jStorage=n.stringify(r);if(s){s.setAttribute("jStorage",i.jStorage);s.save("jStorage")}o=i.jStorage?String(i.jStorage).length:0}catch(e){}}function C(e){if(!e||typeof e!="string"&&typeof e!="number")throw new TypeError("Key name must be string or numeric");if(e=="__jstorage_meta")throw new TypeError("Reserved key name");return!0}function k(){var e,t,n,i,s=Infinity,o=!1,u=[];clearTimeout(p);if(!r.__jstorage_meta||typeof r.__jstorage_meta.TTL!="object")return;e=+(new Date);n=r.__jstorage_meta.TTL;i=r.__jstorage_meta.CRC32;for(t in n)if(n.hasOwnProperty(t))if(n[t]<=e){delete n[t];delete i[t];delete r[t];o=!0;u.push(t)}else n[t]<s&&(s=n[t]);s!=Infinity&&(p=setTimeout(k,s-e));if(o){N();x();S(u,"deleted")}}function L(){if(!r.__jstorage_meta.PubSub)return;var e,t=h;for(var n=len=r.__jstorage_meta.PubSub.length-1;n>=0;n--){e=r.__jstorage_meta.PubSub[n];if(e[0]>h){t=e[0];A(e[1],e[2])}}h=t}function A(e,t){if(c[e])for(var r=0,i=c[e].length;r<i;r++)c[e][r](e,n.parse(n.stringify(t)))}function O(){if(!r.__jstorage_meta.PubSub)return;var e=+(new Date)-2e3;for(var t=0,n=r.__jstorage_meta.PubSub.length;t<n;t++)if(r.__jstorage_meta.PubSub[t][0]<=e){r.__jstorage_meta.PubSub.splice(t,r.__jstorage_meta.PubSub.length-t);break}r.__jstorage_meta.PubSub.length||delete r.__jstorage_meta.PubSub}function M(e,t){r.__jstorage_meta||(r.__jstorage_meta={});r.__jstorage_meta.PubSub||(r.__jstorage_meta.PubSub=[]);r.__jstorage_meta.PubSub.unshift([+(new Date),e,t]);N();x()}function _(e,t){var n=e.length,r=t^n,i=0,s;while(n>=4){s=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24;s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16);s^=s>>>24;s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16);r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)^s;n-=4;++i}switch(n){case 3:r^=(e.charCodeAt(i+2)&255)<<16;case 2:r^=(e.charCodeAt(i+1)&255)<<8;case 1:r^=e.charCodeAt(i)&255;r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)}r^=r>>>13;r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16);r^=r>>>15;return r>>>0}var e="0.3.2",t=window.jQuery||window.$||(window.$={}),n={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(e){return String(e).evalJSON()}||t.parseJSON||t.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||t.toJSON};if(!n.parse||!n.stringify)throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var r={__jstorage_meta:{CRC32:{}}},i={jStorage:"{}"},s=null,o=0,u=!1,a={},f=!1,l=0,c={},h=+(new Date),p,d={isXML:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1},encode:function(e){if(!this.isXML(e))return!1;try{return(new XMLSerializer).serializeToString(e)}catch(t){try{return e.xml}catch(n){}}return!1},decode:function(e){var t="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(e){var t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(e);return t},n;if(!t)return!1;n=t.call("DOMParser"in window&&new DOMParser||window,e,"text/xml");return this.isXML(n)?n:!1}},v=function(){};t.jStorage={version:e,set:function(e,t,i){C(e);i=i||{};if(typeof t=="undefined"){this.deleteKey(e);return t}if(d.isXML(t))t={_is_xml:!0,xml:d.encode(t)};else{if(typeof t=="function")return undefined;t&&typeof t=="object"&&(t=n.parse(n.stringify(t)))}r[e]=t;r.__jstorage_meta.CRC32[e]="2."+_(n.stringify(t));this.setTTL(e,i.TTL||0);v(e,t);S(e,"updated");return t},get:function(e,t){C(e);return e in r?r[e]&&typeof r[e]=="object"&&r[e]._is_xml?d.decode(r[e].xml):r[e]:typeof t=="undefined"?null:t},deleteKey:function(e){C(e);if(e in r){delete r[e];typeof r.__jstorage_meta.TTL=="object"&&e in r.__jstorage_meta.TTL&&delete r.__jstorage_meta.TTL[e];delete r.__jstorage_meta.CRC32[e];v(e,undefined);N();x();S(e,"deleted");return!0}return!1},setTTL:function(e,t){var n=+(new Date);C(e);t=Number(t)||0;if(e in r){r.__jstorage_meta.TTL||(r.__jstorage_meta.TTL={});t>0?r.__jstorage_meta.TTL[e]=n+t:delete r.__jstorage_meta.TTL[e];N();k();x();return!0}return!1},getTTL:function(e){var t=+(new Date),n;C(e);if(e in r&&r.__jstorage_meta.TTL&&r.__jstorage_meta.TTL[e]){n=r.__jstorage_meta.TTL[e]-t;return n||0}return 0},flush:function(){r={__jstorage_meta:{CRC32:{}}};g("local",!0);N();x();S(null,"flushed");return!0},storageObj:function(){function e(){}e.prototype=r;return new e},index:function(){var e=[],t;for(t in r)r.hasOwnProperty(t)&&t!="__jstorage_meta"&&e.push(t);return e},storageSize:function(){return o},currentBackend:function(){return u},storageAvailable:function(){return!!u},listenKeyChange:function(e,t){C(e);a[e]||(a[e]=[]);a[e].push(t)},stopListening:function(e,t){C(e);if(!a[e])return;if(!t){delete a[e];return}for(var n=a[e].length-1;n>=0;n--)a[e][n]==t&&a[e].splice(n,1)},subscribe:function(e,t){e=(e||"").toString();if(!e)throw new TypeError("Channel not defined");c[e]||(c[e]=[]);c[e].push(t)},publish:function(e,t){e=(e||"").toString();if(!e)throw new TypeError("Channel not defined");M(e,t)},reInit:function(){y()}};m()})();InfoBox.prototype=new google.maps.OverlayView;InfoBox.prototype.createInfoBoxDiv_=function(){var e,t=this,n=function(e){e.cancelBubble=!0;e.stopPropagation&&e.stopPropagation()},r=function(e){e.returnValue=!1;e.preventDefault&&e.preventDefault();t.enableEventPropagation_||n(e)};if(!this.div_){this.div_=document.createElement("div");this.setBoxStyle_();if(typeof this.content_.nodeType=="undefined")this.div_.innerHTML=this.getCloseBoxImg_()+this.content_;else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(this.content_)}this.getPanes()[this.pane_].appendChild(this.div_);this.addClickHandler_();if(this.div_.style.width)this.fixedWidthSet_=!0;else if(this.maxWidth_!==0&&this.div_.offsetWidth>this.maxWidth_){this.div_.style.width=this.maxWidth_;this.div_.style.overflow="auto";this.fixedWidthSet_=!0}else{e=this.getBoxWidths_();this.div_.style.width=this.div_.offsetWidth-e.left-e.right+"px";this.fixedWidthSet_=!1}this.panBox_(this.disableAutoPan_);if(!this.enableEventPropagation_){this.eventListener1_=google.maps.event.addDomListener(this.div_,"mousedown",n);this.eventListener2_=google.maps.event.addDomListener(this.div_,"click",n);this.eventListener3_=google.maps.event.addDomListener(this.div_,"dblclick",n)}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",r);google.maps.event.trigger(this,"domready")}};InfoBox.prototype.getCloseBoxImg_=function(){var e="";if(this.closeBoxURL_!==""){e="<img";e+=" src='"+this.closeBoxURL_+"'";e+=" align=right";e+=" style='";e+=" position: relative;";e+=" cursor: pointer;";e+=" margin: "+this.closeBoxMargin_+";";e+="'>"}return e};InfoBox.prototype.addClickHandler_=function(){var e;if(this.closeBoxURL_!==""){e=this.div_.firstChild;this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())}else this.closeListener_=null};InfoBox.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0;t.stopPropagation&&t.stopPropagation();e.close();google.maps.event.trigger(e,"closeclick")}};InfoBox.prototype.panBox_=function(e){var t,n,r=0,i=0;if(!e){t=this.getMap();if(t instanceof google.maps.Map){t.getBounds().contains(this.position_)||t.setCenter(this.position_);n=t.getBounds();var s=t.getDiv(),o=s.offsetWidth,u=s.offsetHeight,a=this.pixelOffset_.width,f=this.pixelOffset_.height,l=this.div_.offsetWidth,c=this.div_.offsetHeight,h=this.infoBoxClearance_.width,p=this.infoBoxClearance_.height,d=this.getProjection().fromLatLngToContainerPixel(this.position_);d.x<-a+h?r=d.x+a-h:d.x+l+a+h>o&&(r=d.x+l+a+h-o);this.alignBottom_?d.y<-f+p+c?i=d.y+f-p-c:d.y+f+p>u&&(i=d.y+f+p-u):d.y<-f+p?i=d.y+f-p:d.y+c+f+p>u&&(i=d.y+c+f+p-u);if(r!==0||i!==0){var v=t.getCenter();t.panBy(r,i)}}}};InfoBox.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_;this.div_.style.cssText="";t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);typeof this.div_.style.opacity!="undefined"&&this.div_.style.opacity!==""&&(this.div_.style.filter="alpha(opacity="+this.div_.style.opacity*100+")");this.div_.style.position="absolute";this.div_.style.visibility="hidden";this.zIndex_!==null&&(this.div_.style.zIndex=this.zIndex_)}};InfoBox.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},n=this.div_;if(document.defaultView&&document.defaultView.getComputedStyle){e=n.ownerDocument.defaultView.getComputedStyle(n,"");if(e){t.top=parseInt(e.borderTopWidth,10)||0;t.bottom=parseInt(e.borderBottomWidth,10)||0;t.left=parseInt(e.borderLeftWidth,10)||0;t.right=parseInt(e.borderRightWidth,10)||0}}else if(document.documentElement.currentStyle&&n.currentStyle){t.top=parseInt(n.currentStyle.borderTopWidth,10)||0;t.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0;t.left=parseInt(n.currentStyle.borderLeftWidth,10)||0;t.right=parseInt(n.currentStyle.borderRightWidth,10)||0}return t};InfoBox.prototype.onRemove=function(){if(this.div_){this.div_.parentNode.removeChild(this.div_);this.div_=null}};InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px";this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px";this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"};InfoBox.prototype.setOptions=function(e){if(typeof e.boxClass!="undefined"){this.boxClass_=e.boxClass;this.setBoxStyle_()}if(typeof e.boxStyle!="undefined"){this.boxStyle_=e.boxStyle;this.setBoxStyle_()}typeof e.content!="undefined"&&this.setContent(e.content);typeof e.disableAutoPan!="undefined"&&(this.disableAutoPan_=e.disableAutoPan);typeof e.maxWidth!="undefined"&&(this.maxWidth_=e.maxWidth);typeof e.pixelOffset!="undefined"&&(this.pixelOffset_=e.pixelOffset);typeof e.position!="undefined"&&this.setPosition(e.position);typeof e.zIndex!="undefined"&&this.setZIndex(e.zIndex);typeof e.closeBoxMargin!="undefined"&&(this.closeBoxMargin_=e.closeBoxMargin);typeof e.closeBoxURL!="undefined"&&(this.closeBoxURL_=e.closeBoxURL);typeof e.infoBoxClearance!="undefined"&&(this.infoBoxClearance_=e.infoBoxClearance);typeof e.isHidden!="undefined"&&(this.isHidden_=e.isHidden);typeof e.enableEventPropagation!="undefined"&&(this.enableEventPropagation_=e.enableEventPropagation);this.div_&&this.draw()};InfoBox.prototype.setContent=function(e){this.content_=e;if(this.div_){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}this.fixedWidthSet_||(this.div_.style.width="");if(typeof e.nodeType=="undefined")this.div_.innerHTML=this.getCloseBoxImg_()+e;else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(e)}if(!this.fixedWidthSet_){this.div_.style.width=this.div_.offsetWidth+"px";this.div_.innerHTML=this.getCloseBoxImg_()+e}this.addClickHandler_()}google.maps.event.trigger(this,"content_changed")};InfoBox.prototype.setPosition=function(e){this.position_=e;this.div_&&this.draw();google.maps.event.trigger(this,"position_changed")};InfoBox.prototype.setZIndex=function(e){this.zIndex_=e;this.div_&&(this.div_.style.zIndex=e);google.maps.event.trigger(this,"zindex_changed")};InfoBox.prototype.getContent=function(){return this.content_};InfoBox.prototype.getPosition=function(){return this.position_};InfoBox.prototype.getZIndex=function(){return this.zIndex_};InfoBox.prototype.show=function(){this.isHidden_=!1;this.div_&&(this.div_.style.visibility="visible")};InfoBox.prototype.hide=function(){this.isHidden_=!0;this.div_&&(this.div_.style.visibility="hidden")};InfoBox.prototype.open=function(e,t){var n=this;if(t){this.position_=t.getPosition();this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){n.setPosition(this.getPosition())})}this.setMap(e);this.visible=!0;this.div_&&this.panBox_()};InfoBox.prototype.close=function(){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(this.eventListener1_){google.maps.event.removeListener(this.eventListener1_);google.maps.event.removeListener(this.eventListener2_);google.maps.event.removeListener(this.eventListener3_);this.eventListener1_=null;this.eventListener2_=null;this.eventListener3_=null}if(this.moveListener_){google.maps.event.removeListener(this.moveListener_);this.moveListener_=null}if(this.contextListener_){google.maps.event.removeListener(this.contextListener_);this.contextListener_=null}this.setMap(null);this.visible=!1};(function(){function u(){this.data=[]}function d(){this.data={};this.latlng=null;this.marker=null;this.infobox=null;this.infoboxtext=
null;this.toggleInfoBox=function(e,t,n){return function(){n.visible?n.close(e,t):n.open(e,t)}}}function v(){this.query=null;this.url=[]}var e={city:"Chicago",directionsoptions:{suppressInfoWindows:!0,polylineOptions:{strokeColor:"#0954cf",strokeWeight:"5",strokeOpacity:".85"}},directionsrenderer:null,directionsservice:null,lat:41.85,lng:-87.675,state:"IL",styles:"grey minlabels",zoom:14,schooltoday:"No Schedule Available",schooltomorrow:"No Schedule Available",googlemapsapikey:"AIzaSyDH5WuL3gKYVBWVqLr6g3PQffdZE-XhBUw",schoolschedulequery:"SELECT date, dayofweek, unifiedcalendar FROM 1u765vIMSPecSEinBe1H6JPYSFE5ljbAW1Mq3okc",schoollocationquery:"SELECT lat, lng, longname, address, postalcode, phone, start, end, afterstart, afterend FROM 1qCOcgrhGwjt6bdx_UVPSkyIMMVD-1C7CJFvpIjI",scheduledatacolumns:null,scheduledatarows:null,schooldatacolumns:null,schooldatarows:null,schoolselected:null},t=navigator.geolocation,n=!1,r=navigator.userAgent.toLowerCase(),i=r.indexOf("android")>-1;if(navigator.userAgent.match(/iPhone/i)||i)n=!0;var s={lat:null,lng:null,latlng:null,address:null},o=[],a=new Date,f={month:a.getMonth()+1,date:a.getDate(),year:a.getFullYear()},l=new Date(a.getTime()+864e5),c={month:l.getMonth()+1,date:l.getDate(),year:l.getFullYear()};$("#time").timepicker({minuteStep:5,showInputs:!1,disableFocus:!0,template:"modal",modalBackdrop:!0});var h=[],p=[];$(function(){function y(t,n){for(var r in n){p[r]=new d;for(var s in t){var o=t[s];p[r].data[o]=n[r][s]}$("#school").val()!==""&&p[r].data.longname===$("#school").val()&&(e.schoolselected=p[r]);h.push(p[r].data.longname);p[r].latlng=new google.maps.LatLng(p[r].data.lat,p[r].data.lng);p[r].marker=new google.maps.Marker({position:p[r].latlng,map:i.Map,icon:"img/orange.png",shadow:"img/msmarker.shadow.png"});var u=String(p[r].data.phone).replace("/[^0-9]/","");p[r].infoboxtext='<div class="infoBox" style="border:2px solid rgb(0,0,0); margin-top:8px; background:rgb(25,25,112); padding:5px; color:white; font-size:80%;">'+p[r].data.longname+"<br />"+p[r].data.address+"<br />"+u.slice(-10,-7)+"-"+u.slice(-7,-4)+"-"+u.slice(-4)+"<br /></div>";var a={content:p[r].infoboxtext,disableAutoPan:!1,maxWidth:0,pixelOffset:new google.maps.Size(-140,0),zIndex:null,boxStyle:{background:"url('img/tipbox.gif') no-repeat",opacity:.9,width:"160px"},closeBoxMargin:"11px 4px 4px 4px",closeBoxURL:"img/close.gif",infoBoxClearance:new google.maps.Size(20,30),visible:!1,pane:"floatPane",enableEventPropagation:!1};p[r].infobox=new InfoBox(a)}w();$("#school").typeahead({source:h,items:3,minLength:1});window.scrollTo(0,1)}function b(t,n){for(var r in n){o[r]=new u;for(var i in t){var s=t[i];o[r].data[s]=n[r][i]}}var a=f.month+"/"+f.date+"/"+f.year,l=c.month+"/"+c.date+"/"+c.year;for(var r in o){o[r].data.date===a&&(e.schooltoday=o[r].data.unifiedcalendar);o[r].data.date===l&&(e.schooltomorrow=o[r].data.unifiedcalendar)}if(e.schooltoday==="Full Day"){$("#schedule").html(e.schooltoday+" Today");$("#schedule").addClass("text-success")}else if(e.schooltoday==="No Schedule Available"){$("#schedule").html(e.schooltoday+", so we don't know.");$("#schedule").addClass("text-warning")}else{$("#schedule").html(e.schooltoday+" Today");$("#schedule").addClass("text-error")}if(e.schooltomorrow==="Full Day"){$("#schedule-tomorrow").html(e.schooltomorrow+" Tomorrow");$("#schedule-tomorrow").addClass("text-success")}else if(e.schooltomorrow==="No Schedule Available"){$("#schedule-tomorrow").html(e.schooltomorrow+", so we don't know.");$("#schedule-tomorrow").addClass("text-warning")}else{$("#schedule-tomorrow").html(e.schooltomorrow+" Tomorrow");$("#schedule-tomorrow").addClass("text-error")}}function w(){if($("#school").val()!=="")for(var t in p)if(p[t].data.longname===e.schoolselected.data.longname){$("#time-start-icon,#time-end-icon").text("");i.Map.setCenter(p[t].latlng);p[t].infobox.open(i.Map,p[t].marker);$("#time-start-time").text(" - "+T(e.schoolselected.data.start));$("#time-end-time").text(" - "+T(e.schoolselected.data.end));var r=String(p[t].data.phone).replace("/[^0-9]/","");n?$("#sick-tel").html('<a href="tel:+1'+r+'">'+r.slice(-10,-7)+"-"+r.slice(-7,-4)+"-"+r.slice(-4)+"</a>"):$("#sick-tel").text(r.slice(-10,-7)+"-"+r.slice(-7,-4)+"-"+r.slice(-4));$("#sick").show()}else p[t].infobox.close(i.Map,p[t].marker)}function E(e){e?alert("We're sorry. Your browser's geolocation service failed."):alert("We're sorry! Your browser does not support geolocation.")}function S(){function e(){alert("We're sorry. We could not find an address for this location.")}t?navigator.geolocation.getCurrentPosition(function(t){s.lat=t.coords.latitude;s.lng=t.coords.longitude;s.latlng=new google.maps.LatLng(t.coords.latitude,t.coords.longitude);var n=new google.maps.Geocoder;n.geocode({latLng:s.latlng},function(t,n){if(n===google.maps.GeocoderStatus.OK)if(t[1]){var r=t[0].formatted_address.split(",");s.address=r[0];$("#mylocation").val(r[0]);$("#summary-mylocation").text(r[0]);$.jStorage.storageAvailable()&&$.jStorage.set("mylocation",r[0])}else e();else e()})},function(){E(!0)}):E(!1)}function x(e){e.style.padding="1em";var t=document.createElement("div");t.style.backgroundColor="white";t.style.borderStyle="solid";t.style.borderWidth="2px";t.style.cursor="pointer";t.style.textAlign="center";t.title="Click to interact with the map.";e.appendChild(t);var n=document.createElement("div");n.style.fontFamily="sans-serif";n.style.fontSize="12px";n.style.paddingLeft=".5em";n.style.paddingRight=".5em";n.style.paddingTop=".3em";n.style.paddingBottom=".3em";n.innerHTML="Explore Map";t.appendChild(n);google.maps.event.addDomListener(t,"click",function(){if(i.Map.zoomControl===!1){i.setPanZoom(!0);i.setTouchScroll(!1);var e=i.Map.getCenter();$("#before-map,#div-footer").hide(750,function(){$("#map-width").css("height","100%");$("#map-ratio").css("margin-top",window.innerHeight);$("#div-map").offset().top;t.title="Click to close up the map.";n.innerHTML="Minimize";i.Map.setCenter(e);google.maps.event.trigger(i.Map,"resize")});for(var r in p)google.maps.event.addListener(p[r].marker,"click",p[r].toggleInfoBox(i.Map,p[r].marker,p[r].infobox))}else{i.setPanZoom(!1);i.setTouchScroll(!0);var e=i.Map.getCenter();$("#before-map,#div-footer").show(750,function(){$("#map-width").css("height","");$("#map-ratio").css("margin-top","200px");t.title="Click to interact with the map.";n.innerHTML="Explore Map";i.Map.setCenter(e);google.maps.event.trigger(i.Map,"resize")});for(var r in p)google.maps.event.clearListeners(p[r].marker,"click")}})}function T(e){var t="AM",n=e.split(":"),r=n[0].length===1?"0"+n[0]:n[0];r===12&&(t="PM");if(r>12){r-=12;t="PM"}var i=n[1],s=r+":"+i+" "+t;return s}var r="";if($.jStorage.storageAvailable()){$("#school").val($.jStorage.get("school",""));$("#summary-school").text($.jStorage.get("school",""));$("#time").val($.jStorage.get("time",""));$("#summary-time").text($.jStorage.get("time",""));$("#mylocation").val($.jStorage.get("mylocation",""));$("#summary-mylocation").text($.jStorage.get("mylocation",""));r=$.jStorage.get("travel","");if(r==="WALKING"){$("#travel-walking").addClass("active");$("#summary-travel").text("Walking");$("#travel-walking-icon").html('<i class="icon-ok icon-white"></i> ')}else if(r==="TRANSIT"){$("#travel-transit").addClass("active");$("#summary-travel").text("CTA/Metra");$("#travel-transit-icon").html('<i class="icon-ok icon-white"></i> ')}else if(r==="DRIVING"){$("#travel-driving").addClass("active");$("#summary-travel").text("Driving");$("#travel-driving-icon").html('<i class="icon-ok icon-white"></i> ')}e.scheduledatacolumns=$.jStorage.get("scheduledatacolumns",null);e.scheduledatarows=$.jStorage.get("scheduledatarows",null);e.schooldatacolumns=$.jStorage.get("schooldatacolumns",null);e.schooldatarows=$.jStorage.get("schooldatarows",null)}$("#school").val()!==""&&$("#time").val()!==""&&$("#mylocation").val()!==""&&r!==""?$("#grp-intro,#grp-school,#grp-travel,#grp-time,#grp-mylocation,#sick").hide():$("#grp-school,#grp-travel,#grp-time,#grp-mylocation,#grp-summary,#sick").hide();$("#loading").hide();$(document).ajaxStart(function(){$("#loading").show()}).ajaxStop(function(){$("#loading").hide()});var i=new TkMap({domid:"map",lat:e.lat,lng:e.lng,styles:e.styles,zoom:e.zoom});i.initMap();e.directionsservice=new google.maps.DirectionsService;e.directionsrenderer=new google.maps.DirectionsRenderer(e.directionsoptions);i.setPanZoom(!1);i.setTouchScroll(!0);var a=document.createElement("div"),l=new x(a);a.index=1;i.Map.controls[google.maps.ControlPosition.TOP_RIGHT].push(a);if(e.scheduledatacolumns===null||e.scheduledatarows===null){var m=new v;m.query=encodeURIComponent(e.schoolschedulequery);m.url=["https://www.googleapis.com/fusiontables/v1/query"];m.url.push("?sql="+m.query);m.url.push("&key="+e.googlemapsapikey);m.url.push("&callback=?");$.ajax({url:m.url.join(""),dataType:"jsonp",success:function(e){if($.jStorage.storageAvailable()){$.jStorage.set("scheduledatacolumns",e.columns);$.jStorage.set("scheduledatarows",e.rows)}b(e.columns,e.rows)}})}else b(e.scheduledatacolumns,e.scheduledatarows);if(e.schooldatacolumns===null||e.schooldatarows===null){var g=new v;g.query=encodeURIComponent(e.schoollocationquery);g.url=["https://www.googleapis.com/fusiontables/v1/query"];g.url.push("?sql="+g.query);g.url.push("&key="+e.googlemapsapikey);g.url.push("&callback=?");$.ajax({url:g.url.join(""),dataType:"jsonp",success:function(e){if($.jStorage.storageAvailable()){$.jStorage.set("schooldatacolumns",e.columns);$.jStorage.set("schooldatarows",e.rows)}y(e.columns,e.rows)}})}else y(e.schooldatacolumns,e.schooldatarows);$("#school").blur(function(){w()});$("#mylocation-gps").click(function(){S()});$("#school").change(function(){$.jStorage.storageAvailable()&&$.jStorage.set("school",$("#school").val());$("#summary-school").text($("#school").val());for(var t in p)if(p[t].data.longname===$("#school").val()){e.schoolselected=p[t];var n=String(p[t].data.phone).replace("/[^0-9]/","");$("#sick-tel").text(n.slice(-10,-7)+"-"+n.slice(-7,-4)+"-"+n.slice(-4));$("#sick").show();break}w()});$("#time-start").click(function(){if(e.schoolselected.data.start==="")alert("No start time");else{$("#time-end-icon").text("");$("#time-start-icon").html('<i class="icon-ok icon-white"></i> ');var t=T(e.schoolselected.data.start);$("#time").timepicker("setTime",t);$("#summary-time").text(t);$.jStorage.storageAvailable()&&$.jStorage.set("time",t)}});$("#time-end").click(function(){if(e.schoolselected.data.end==="")alert("No end time");else{$("#time-start-icon").text("");$("#time-end-icon").html('<i class="icon-ok icon-white"></i> ');var t=T(e.schoolselected.data.end);$("#time").timepicker("setTime",t);$("#summary-time").text(t);$.jStorage.storageAvailable()&&$.jStorage.set("time",t)}});$("#time").timepicker().on("hide.timepicker",function(){$.jStorage.storageAvailable()&&$.jStorage.set("time",$("#time").val());$("#summary-time").text($("#time").val());$("#time-start-icon,#time-end-icon").text("");$("#time-start,#time-end").removeClass("active")});$(".travel").on("click",function(){$.jStorage.storageAvailable()&&$.jStorage.set("travel",$(this).val());if($(this).val()==="WALKING"){$("#summary-travel").text("Walking");$("#travel-walking-icon").html('<i class="icon-ok icon-white"></i> ');$("#travel-transit-icon,#travel-driving-icon").text("")}else if($(this).val()==="TRANSIT"){$("#summary-travel").text("CTA/Metra");$("#travel-transit-icon").html('<i class="icon-ok icon-white"></i> ');$("#travel-walking-icon,#travel-driving-icon").text("")}else if($(this).val()==="DRIVING"){$("#summary-travel").text("Driving");$("#travel-driving-icon").html('<i class="icon-ok icon-white"></i> ');$("#travel-walking-icon,#travel-transit-icon").text("")}});$("#mylocation").change(function(){function t(){alert("We're sorry. We could not locate this address. Please doublecheck you've entered your address correctly.")}$.jStorage.storageAvailable()&&$.jStorage.set("mylocation",$("#mylocation").val());$("#summary-mylocation").text($("#mylocation").val());if($("#mylocation").val()!==s.address){var n=new google.maps.Geocoder;n.geocode({address:$("#mylocation").val()+", "+e.city+", "+e.state},function(e,n){if(n===google.maps.GeocoderStatus.OK)if(e[0]){s.LatLng=e[0].geometry.location;s.lat=s.latlng.lat();s.lng=s.latlng.lng();s.address=$("#mylocation").val()}else t();else t()})}});$("#intro-start").click(function(){$("#grp-intro,#isschool").hide();$("#grp-school").show();window.scrollTo(0,1)});$("#school-next").click(function(){$("#grp-school").hide();$("#grp-time").show();window.scrollTo(0,1)});$("#time-next").click(function(){$("#grp-time").hide();$("#grp-travel").show();window.scrollTo(0,1)});$("#travel-next").click(function(){$("#grp-travel").hide();$("#grp-mylocation").show();window.scrollTo(0,1)});$("#mylocation-next").click(function(){$("#grp-mylocation").hide();$("#grp-summary,#isschool").show();window.scrollTo(0,1)});$("#time-back").click(function(){$("#grp-time").hide();$("#grp-school").show();window.scrollTo(0,1)});$("#travel-back").click(function(){$("#grp-travel").hide();$("#grp-time").show();window.scrollTo(0,1)});$("#mylocation-back").click(function(){$("#grp-mylocation").hide();$("#grp-travel").show();window.scrollTo(0,1)});$("#summary-back").click(function(){$("#grp-summary,#isschool").hide();$("#grp-mylocation").show();window.scrollTo(0,1)});$("#summary-school-btn").click(function(){$("#grp-summary,#isschool").hide();$("#grp-school").show();window.scrollTo(0,1)});$("#summary-time-btn").click(function(){$("#grp-summary,#isschool").hide();$("#grp-time").show();window.scrollTo(0,1)});$("#summary-travel-btn").click(function(){$("#grp-summary,#isschool").hide();$("#grp-travel").show();window.scrollTo(0,1)});$("#summary-mylocation-btn").click(function(){$("#grp-summary,#isschool").hide();$("#grp-mylocation").show();window.scrollTo(0,1)})})})();