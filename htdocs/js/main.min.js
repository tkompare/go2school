/* Modernizr 2.5.3 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-touch-teststyles-prefixes
 */function TkMap(e){var t=typeof e.lat!="undefined"?e.lat:null,n=typeof e.lng!="undefined"?e.lng:null,r=typeof e.domid!="undefined"?e.domid:null,s=typeof e.zoom!="undefined"?e.zoom:15,o=typeof e.init!="undefined"?e.init:!1,u=typeof e.responsive!="undefined"?e.responsive:!1,a=typeof e.styles!="undefined"?e.styles:null,f={center:new google.maps.LatLng(t,n),draggable:!0,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,streetViewControl:!1,styles:[],zoom:s,zoomControl:!0},l=!1,c=null,h=null;this.Map=null;var p=function(e){l=!0;c=e.touches[0].pageY},d=function(){l=!1},v=function(e){if(!l)return;h=e.touches[0].pageY;window.scrollBy(0,c-h)},m=function(){var e=a.split(" ");for(i in e)if(e[i]==="satellite")f.mapTypeId=google.maps.MapTypeId.SATELLITE;else if(e[i]==="hybrid")f.mapTypeId=google.maps.MapTypeId.HYBRID;else if(e[i]==="road")f.mapTypeId=google.maps.MapTypeId.ROADMAP;else if(e[i]==="terrain")f.mapTypeId=google.maps.MapTypeId.TERRAIN;else if(e[i]==="minlabels")f.styles.push({featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]});else if(e[i]==="grey"){f.backgroundColor="#C5C5C5";f.styles.push({stylers:[{saturation:-67}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{lightness:85}]},{featureType:"water",stylers:[{lightness:-40}]})}},g=function(){var e=$("#"+r).width();e<481?f.zoom--:e>959&&f.zoom++};this.initMap=function(){if(this.Map===null){a!==null&&m();u&&g();this.Map=new google.maps.Map(document.getElementById(r),f)}};this.setMapOptions=function(e){this.Map!==null&&$.extend(f,e)};this.setTouchScroll=function(e){var t=document.getElementById(r);if(e){t.addEventListener("touchstart",p,!0);t.addEventListener("touchend",d,!0);t.addEventListener("touchmove",v,!0);this.Map.setOptions({zoomControl:!1})}else{t.removeEventListener("touchstart",p,!0);t.removeEventListener("touchend",d,!0);t.removeEventListener("touchmove",v,!0);this.Map.setOptions({zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}})}};this.setPanZoom=function(e){var t;e?t=!1:t=!0;this.Map.setOptions({disableDoubleClickZoom:t,draggable:e,keyboardShortcuts:e,scrollwheel:e,zoomControl:e})};o===!0&&this.initMap()}window.Modernizr=function(e,t,n){function r(e){p.cssText=e}function i(e,t){return r(m.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}var a="2.5.3",f={},l=t.documentElement,c="modernizr",h=t.createElement(c),p=h.style,d,v={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),g={},y={},b={},w=[],E=w.slice,S,x=function(e,n,r,i){var s,o,u,a=t.createElement("div"),f=t.body,h=f?f:t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:c+(r+1),a.appendChild(u);return s=["&#173;","<style>",e,"</style>"].join(""),a.id=c,(f?a:h).innerHTML+=s,h.appendChild(a),f||(h.style.background="",l.appendChild(h)),o=n(a,e),f?a.parentNode.removeChild(a):h.parentNode.removeChild(h),!!o},T={}.hasOwnProperty,N;!s(T,"undefined")&&!s(T.call,"undefined")?N=function(e,t){return T.call(e,t)}:N=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=E.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(E.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(E.call(arguments)))};return r});var C=function(n,r){var i=n.join(""),s=r.length;x(i,function(n,r){var i=t.styleSheets[t.styleSheets.length-1],o=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"",u=n.childNodes,a={};while(s--)a[u[s].id]=u[s];f.touch="ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch||(a.touch&&a.touch.offsetTop)===9},s,r)}([,["@media (",m.join("touch-enabled),("),c,")","{#touch{top:9px;position:absolute}}"].join("")],[,"touch"]);g.touch=function(){return f.touch};for(var k in g)N(g,k)&&(S=k.toLowerCase(),f[S]=g[k](),w.push((f[S]?"":"no-")+S));return r(""),h=d=null,f._version=a,f._prefixes=m,f.testStyles=x,f}(this,this.document);(function(){var e=41.85,t=-87.675,n=[],r={};r.LatLngs=[];r.Markers=[];$(function(){function u(){console.log("centeronschool")}function a(){console.log("centeronuser")}$("#loadingmsg").hide().ajaxStart(function(){$(this).show()}).ajaxStop(function(){$(this).hide()});var i=new TkMap({domid:"map",lat:e,lng:t,styles:"grey",zoom:14});i.initMap();var s=encodeURIComponent("SELECT lat, lng, shortname, address, postalcode, phone, start, end, afterstart, afterend FROM 1QQu0GHzbkKk5OdAl2VaaY2sm1Ggoc8Vo5GfiGLI"),o=["https://www.googleapis.com/fusiontables/v1/query"];o.push("?sql="+s);o.push("&key=AIzaSyDH5WuL3gKYVBWVqLr6g3PQffdZE-XhBUw");o.push("&callback=?");$.ajax({url:o.join(""),dataType:"jsonp",success:function(e){for(var t in e.rows){n.push(e.rows[t][2]);r.LatLngs[t]=new google.maps.LatLng(e.rows[t][0],e.rows[t][1]);r.Markers[t]=new google.maps.Marker({position:r.LatLngs[t],map:i.Map})}$("#school").typeahead({source:n,items:3,minLength:1})}});$("#school").blur(function(){u()});$("#btn-find-school").click(function(){u()});$("#location").blur(function(){u()});$("#btn-search-location").click(function(){u()})})})();